<!DOCTYPE html> 
<!--
	EON Damage-calcuation tool
	
	http://code.google.com/p/eon-skada/
	Written by Niklas Myrefelt <niklas.myrefelt@gmail.com>
-->


<html>  
  <head>
    <title>EON3 Skade-generator</title>
	<script type="text/javascript"> 

function t6(){
	var my_num=Math.random();
	my_num=Math.floor(my_num*6+1);
	document.f1.t1.value=my_num;	
	return my_num;
}

function t10(){
        var my_num=Math.random();
        my_num=Math.floor(my_num*10+1);
        document.f1.t2.value=my_num;    
	return my_num;
}

function t100(){
        var my_num=Math.random();
        my_num=Math.floor(my_num*100+1);
        document.f1.t2.value=my_num;    
	return my_num;
}

function find_hit(hitsel,hitnum,dmgtype){

//	document.f1.t3.value=hitsel+dmgtype;

	switch (hitsel+dmgtype)
	{
	case "normalhugg": case "normalkross":

		       	//document.f1.t3.value=hitsel+dmgtype;
			switch (true) //Träfftabell för normalt hugg-slag:
			{
				case ((hitnum >= 1) && (hitnum <= 20)):
					//Huvud
					if ((hitnum >= 1) && (hitnum <=8))
					{
						document.f1.t3.value="Huvud - Ansikte [1]";
					}
					else if ((hitnum >= 9) && (hitnum <=16))
					{
						document.f1.t3.value="Huvud - Skalle [2]";
					}
					else if ((hitnum >= 17) && (hitnum <=20))
					{
						document.f1.t3.value="Huvud - Hals [3]";
					}
					break;
				case ((hitnum >= 21) && (hitnum <= 40)):
					document.f1.t3.value="Vänster arm";
					if ((hitnum >= 21) && (hitnum <=24))
					{
						document.f1.t3.value="Vänster arm - Skuldra [4]";
					}
					else if ((hitnum >= 25) && (hitnum <=28))
					{
						document.f1.t3.value="Vänster arm - Överarm [6]";
					}
					else if ((hitnum >= 29) && (hitnum <= 30))
					{
						document.f1.t3.value="Vänster arm - Armbåge [8]";
					}
					else if ((hitnum >= 31) && (hitnum <= 36))
					{
						document.f1.t3.value="Vänster arm - Underarm [10]";
					}
					else if ((hitnum >= 37) && (hitnum <= 40))
					{
						document.f1.t3.value="Vänster arm - Hand [12]";
					}
					//Vänster arm
					break;
				case ((hitnum >= 41) && (hitnum <= 60)):
					document.f1.t3.value="Höger arm";
					if ((hitnum >= 41) && (hitnum <= 44))
					{
						document.f1.t3.value="Höger arm - Skuldra [5]";
					}
					else if ((hitnum >= 45) && (hitnum <= 48))
					{
						document.f1.t3.value="Höger arm - Överarm [7]";
					}
					else if ((hitnum >= 49) && (hitnum <= 50))
					{
						document.f1.t3.value="Höger arm - Armbåge [9]";
					}
					else if ((hitnum >= 51) && (hitnum <= 56))
					{
						document.f1.t3.value="Höger arm - Underarm [11]";
					}
					else if ((hitnum >= 57) && (hitnum <= 60))
					{
						document.f1.t3.value="Höger arm - Hand [13]";
					}
					//Höger arm
					break;
				case ((hitnum >= 61) && (hitnum <= 70)):
					document.f1.t3.value="Bröstkorg [14]";
					//Bröstkorg
					break;
				case ((hitnum >= 71) && (hitnum <= 80)):
					document.f1.t3.value="Buk";
					if ((hitnum >= 71) && (hitnum <= 78))
					{
						document.f1.t3.value="Buk - Mage [15]";
					}
					else if ((hitnum >= 79) && (hitnum <= 80))
					{
						document.f1.t3.value="Buk - Underliv [16]";
					}
					//Buk
					break;

				case ((hitnum >= 81) && (hitnum <= 90)):
					document.f1.t3.value="Vänster ben";
					if ((hitnum >= 81) && (hitnum <= 82))
					{
						document.f1.t3.value="Vänster ben - Höft [17]";
					}	
					else if ((hitnum >= 83) && (hitnum <= 84))
					{
						document.f1.t3.value="Vänster ben - Lår [19]";
					}
					else if ((hitnum >= 85) && (hitnum <= 86))
					{
						document.f1.t3.value="Vänster ben - Knä [21]";
					}
					else if ((hitnum >= 87) && (hitnum <= 89))
					{
						document.f1.t3.value="Vänster ben - Vad [23]";
					}
					else if (hitnum == 90)
					{
						document.f1.t3.value="Vänster ben - Fot [25]";
					} 
					//Vänster ben
					break;

				case ((hitnum >= 91) && (hitnum <= 100)):
					document.f1.t3.value="Höger ben";
					if ((hitnum >= 91) && (hitnum <= 92))
					{
						document.f1.t3.value="Höger ben - Höft [18]";
					}
					if ((hitnum >= 93) && (hitnum <= 94))
					{
						document.f1.t3.value="Höger ben - Lår [20]";
					}
					if ((hitnum >= 95) && (hitnum <= 96))
					{
						document.f1.t3.value="Höger ben - Knä [22]";
					}
					if ((hitnum >= 97) && (hitnum <= 99))
					{
						document.f1.t3.value="Höger ben - Vad [24]";
					}
					if (hitnum >= 100)
					{
						document.f1.t3.value="Höger ben - Fot [26]";
					}
					//Höger ben
					break;

			}
			break;



		case "highhugg": case "highkross":
			switch (true) //Träfftabell för högt hugg-slag
			{
				case ((hitnum >= 1) && (hitnum <= 30)):
					document.f1.t3.value="Huvud";
					//huvud
					break;
				case ((hitnum >= 31) && (hitnum <= 60)):
					document.f1.t3.value="Vänster arm";
					//Vänster arm
					break;
				case ((hitnum >= 61) && (hitnum <= 90)):
					document.f1.t3.value="Höger arm";
					//Höger arm
					break;
				case ((hitnum >= 91) && (hitnum <= 100)):
					document.f1.t3.value="Bröstkorg";
					//Bröstkorg
					break;
			}
			break;
		case "lowhugg": case "lowkross":
			switch (true)
			{
				case ((hitnum >= 1) && (hitnum <= 20)):
					document.f1.t3.value="Buk";
					//Buk
					break;
				case ((hitnum >= 21) && (hitnum <= 60)):
					document.f1.t3.value="Vänster ben";
					//Vänster ben
					break;
				case ((hitnum >= 61) && (hitnum <= 100)):
					document.f1.t3.value="Höger ben";
					//Höger ben 
					break;

			}
			break; 

	}
}

function totaldmg(delomr,redudmg,dmgtype){
	var trauma=0;
	var pain=0;
	var bleed=0;
	var misc="";
	switch (delomr)
	{
		case "ansikte":
			if ((redudmg >= 1) && (redudmg <= 9))
			{
				switch (dmgtype)
				{
					case "hugg":
						trauma=1;
						pain=3;
						bleed=1
						break;
					case "kross":
						trauma=0
						pain=4;
						bleed=0;
						break;
				}
				//no extra dmg
			}
			else
			{
			//Extra dmg
			}
		break;
	}
	document.f2.txtarea.value = "T+" + trauma + "\nS+" + pain + "\nB+" + bleed + "\n" + misc
}

	</script>
  </head>
  <body>
<form name=f1>
<!-- <input type=text name=t1 value="">
<input name=b1 type=button value='1T6' onClick='t6()';> -->
<input type=text name=t2 value="" size=3>
<input name=b1 type=button value='1T100' onClick='t100();find_hit(document.f1.hit.value,document.f1.t2.value,document.f1.dmgtype.value)';>
<input type="checkbox" name="check1" value="malpunkt" disabled /> <strike>Målpunkter</strike><br>
<select name=dmgtype onChange='' value=huggkross>
	<option value=hugg>Hugg</option>
	<option value=kross>Kross</option>
	<option value=stick>Stick</option>
</select>
<select name=target onChange='' value=humanoid>
  <option value=humanoid>Humanoid</option>
  <option value=rider>Ryttare</option>
  <option value=fourleg>Fyrbent djur</option>
</select>
<select name=hit onChange='find_hit((this.options[this.selectedIndex].value),document.f1.t2.value,document.f1.dmgtype.value);'>
  <option value=normal>Normal</option>
  <option value=high>Högt</option>
  <option value=low>Lågt</option>
</select>
Träff:
<input type=text name=t3 value="" disabled size=25>
</form>
<br>
Reducerad skadeverkan:
<form name=f2>
	<input type=number name=t1 value=0> 
	<input name=b1 type=button value="OK" onClick='totaldmg();'><br>
	<style type="text/css">
	textarea {
    resize: none;
}
</style>
<textarea name=txtarea rows="4" cols="22">
T+
S+
B+
</textarea>
</form>
  </body>
</html> 

