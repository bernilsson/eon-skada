<!DOCTYPE html> 
<!--
	EON Damage-calcuation tool
	
	http://code.google.com/p/eon-skada/
	Written by Niklas Myrefelt <niklas.myrefelt@gmail.com>
	Edited by Max von der Marwitz <max.mariwitz@gmail.com>
-->


<html>  
  <head>
    <title>EON3 Skade-generator</title>
	<script type="text/javascript" src="find_hit.js"></script>
	<script type="text/javascript" src="hugg_skada.js"></script>
	<script type="text/javascript" src="kross_skada.js"></script>
	<script type="text/javascript" src="stick_skada.js"></script>
	<script type="text/javascript"> 
	

function t6(){
	var my_num=Math.random();
	my_num=Math.floor(my_num*6+1);
	return my_num;
}

function t10(){
        var my_num=Math.random();
        my_num=Math.floor(my_num*10+1);
	return my_num;
}

function t100(){
        var my_num=Math.random();
        my_num=Math.floor(my_num*100+1);
        document.f1.t2.value=my_num;    
	return my_num;
}

function fuling(malomr,redudmg){
if (malomr.match("Ansikte"))
{
traff="ansikte";
}
if (malomr.match("Skalle"))
{
traff="skalle";
}
if (malomr.match("Hals"))
{
traff="hals";
}
if (malomr.match("arm"))
{
traff="arm";
}
if (malomr.match("Br"+ unescape("%F6") +"stkorg"))
{
traff="br"+ unescape("%F6") +"stkorg";
}
if (malomr.match("Mage"))
{
traff="mage";
}
if (malomr.match("Underliv"))
{
traff="underliv";
}
if (malomr.match("ben"))
{
traff="ben";
}

switch (document.f1.dmgtype.value)
{
	case "kross":
		kross_skada(traff,redudmg);
		break;
	case "hugg":
		hugg_skada(traff,redudmg);
		break;
	case "stick":
		stick_skada(traff,redudmg);
		break;
}


}

function toggle_precisionsanfall()
{
	//alert(document.f1.check2.checked);
	if (document.f1.check2.checked)
	{
	document.getElementById("gubben").style.display="block";
	}
	else {
	document.getElementById("gubben").style.display="none"; 
	}
}

	</script>
  </head>
  <body>
<form name=f1>
<input type=text name=t2 value="" size=3>
<input name=b1 type=button value='1T100' onClick='t100();find_hit(document.f1.hit.value,document.f1.t2.value,document.f1.dmgtype.value)';>
<input type="checkbox" name=check1 !checked />M&aring;lpunkter
<input type="checkbox" name=check2 !checked onchange="toggle_precisionsanfall()"; />Precisionsanfall<br>
<style type="text/css">
img
{
position:fixed;
left:500px;
top:0px;
z-index:-1;
}
</style>
<div id="gubben" style="display:none">
<img src="gubbe.png" width=255 height=350;>
<input type="radio" name="head" id="delomr" style="position:fixed;left:650px;top:40px;"/>
<input type="radio" name="leftarm" id="delomr" style="position:fixed;left:680px;top:90px;"/>
<input type="radio" name="rightarm" id="delomr" style="position:fixed;left:570px;top:90px;"/>
<input type="radio" name="chest" id="delomr" style="position:fixed;left:613px;top:90px;"/>
<input type="radio" name="abdomen" id="delomr" style="position:fixed;left:613px;top:132px;"/>
<input type="radio" name="leftleg" id="delomr" style="position:fixed;left:660px;top:230px;"/>
<input type="radio" name="rightleg" id="delomr" style="position:fixed;left:570px;top:230px;"/>
</div>
<select name=dmgtype onChange=''>
	<option value=hugg>Hugg</option>
	<option value=kross>Kross</option>
	<option value=stick>Stick</option>
</select>
<select name=target onChange='' value=humanoid>
  <option value=humanoid>Humanoid</option>
  <option value=rider>Mot ryttare</option>
  <option value=mount>Mot riddjur</option>
  <option value=fourleg>Fyrbent djur</option>
</select>
<select name=hit onChange='find_hit((this.options[this.selectedIndex].value),document.f1.t2.value,document.f1.dmgtype.value);'>
  <option value=normal>Normal</option>
  <option value=high>H&ouml;gt</option>
  <option value=low>L&aring;gt</option>
</select>
Tr&auml;ff:
<input type=text name=t3 value="" disabled size=25>
</form>
<br>
Reducerad skadeverkan:
<form name=f2>
	<input type=number name=redudmg value=1 min=1 onChange='fuling(document.f1.t3.value,document.f2.redudmg.value);'>
	<input name=b1 type=button value="OK" onClick='fuling(document.f1.t3.value,document.f2.redudmg.value);'><br>
	<style type="text/css">
	textarea {
    resize: none;
}
</style>
<textarea name=txtarea rows="7" cols="22">
T+
S+
B+
</textarea>
</form>
  </body>
</html> 

